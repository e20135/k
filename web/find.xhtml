<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >   

    <h:head>
        <title>人を探す</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />		

            <title>primestrap</title>
        </f:facet>

        <f:facet name="middle">
            <!--<h:outputStylesheet library="bootstrap" name="bootstrap.css" />-->
            <h:outputStylesheet name="bootstrap/css/bootstrap.css" />

        </f:facet> 

        <f:facet name="last">
            <h:outputStylesheet library="css" name="reset.css" />
            <h:outputStylesheet library="css" name="find.css" />


        </f:facet>
    </h:head>


    <h:body>

        <!--<ui:composition>-->



        <!--<ui:composition template="/templates/aboutserviceTemplate.xhtml"/>-->


        <link rel="stylesheet" type="text/css" href="resources/css/find.css" />
        <h:outputStylesheet library="css" name="find.css" />
        <h:form>

            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="main.xhtml">かぐや</a>
                    </div>
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="main.xhtml">Home</a></li>
                        <li><a href="serviceoverview.xhtml">サービスの概要</a></li>
                        <li><a href="payment.xhtml">お支払いについて(保護者の方向け)</a></li>
                        <li><a href="safety.xhtml">安全への取り組み</a></li>
                        <li><a href="find.xhtml">受け入れ先を探す</a></li>
                        <li><a href="index.xhtml">会員登録</a></li>  
                        <li><a href="faq.xhtml">よくある質問</a></li>
                        <li><a href="inquery.xhtml">お問合せ</a></li>

                    </ul>
                </div>
            </nav>

            <div class="container">
                <!--                <h3>Basic Navbar Example</h3>
                                <p>A navigation bar is a navigation header that is placed at the top of the page.</p>-->
            </div>


        </h:form>
        <br/>
        <br/>
        <h:form>        
            <p:inputText id="search" value="#{bb.search}" style="width:150px" p:placeholder="例:世田谷区"/> <br/>
            <br/>
            <h:commandLink type="submit" value="地域で検索" action="#{bb.search()}" class="Button"/>

            <div align="center">
                <h:commandLink value="登録内容の変更はこちらから" action="search-for-edit.xhtml"/>
            </div>


            <p:dataTable id="examplej" class="table couple-table" 
                         var="info" value="#{bb.coupleList}" widgetVar="couple" rows="10" paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                         rowsPerPageTemplate="5,10,15" paginator="true" emptyMessage="住所を入力して検索してください">

                <div class="search-box">
                    <h:outputText value="地域で検索" />
                </div>
                <p:column class="column-couple" >
                    <p:graphicImage value="#{bb.pic}" >
                        <f:param name="id" value="#{info.id}"/>
                    </p:graphicImage>
                </p:column>

                <p:column class="column-couple">
                    <h:outputText value="#{info.firstName}" />さん
                </p:column>

                <p:column class="column-couple">
                    <h:outputText value="#{info.addressOne}" />
                </p:column>

                <p:column class="column-couple">
                    <h:commandLink action="#{bb.detail(info.id)}"><!-- 試したもの：bb.oci, bb.coupleList, filt()でOldcoupleInformationをflashでdetail()に渡す-->
                        詳細へ
                    </h:commandLink>  
                </p:column>


            </p:dataTable>
        </h:form>        

        <!--</ui:composition>-->

    </h:body>



</html>